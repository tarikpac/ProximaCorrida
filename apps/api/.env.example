# ==============================================
# PROXIMA CORRIDA API - Environment Variables
# ==============================================
# Copy this file to .env and fill in the values

# Database
DATABASE_URL="postgresql://user:password@localhost:5432/proximacorrida"
DIRECT_URL="postgresql://user:password@localhost:5432/proximacorrida"

# Redis (for BullMQ queues)
REDIS_URL="redis://localhost:6379"
REDIS_HOST="localhost"
REDIS_PORT=6379

# Push Notifications (VAPID)
VAPID_PUBLIC_KEY=""
VAPID_PRIVATE_KEY=""
VAPID_SUBJECT="mailto:your-email@example.com"

# Server
PORT=3001
NODE_ENV=development

# ==============================================
# SCRAPER CONFIGURATION
# ==============================================

# Timeout for loading event details pages (milliseconds)
# Default: 15000 (15 seconds)
DETAIL_TIMEOUT_MS=15000

# Timeout for loading registration pages (milliseconds)
# Default: 20000 (20 seconds)
REG_TIMEOUT_MS=20000

# Delay between processing each event (milliseconds)
# Default: 500 (0.5 seconds)
# Increase if getting rate-limited by source sites
SCRAPER_EVENT_DELAY_MS=500

# Log verbosity level for scraper operations
# Options: debug, info, warn, error
# Default: info
SCRAPER_LOG_LEVEL=info

# Number of days after which an event is considered stale and should be re-scraped
# Default: 7 days
SCRAPER_STALENESS_DAYS=7

# Batch size for parallel event processing
# Default: 1 (sequential processing)
# Increase only if monitoring shows no rate-limiting issues
SCRAPER_BATCH_SIZE=1

# Number of events after which to renew browser context (memory management)
# Default: 0 (disabled - no automatic renewal)
# Set to e.g. 50 if experiencing memory issues
SCRAPER_CONTEXT_RENEWAL_THRESHOLD=0
